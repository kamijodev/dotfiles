autoload -Uz compinit && compinit

typeset -A MISSING_TOOLS
MISSING_TOOLS=()

if command -v starship &> /dev/null; then
  eval "$(starship init zsh)"
else
  MISSING_TOOLS[starship]="https://starship.rs"
fi

function zvm_after_lazy_keybindings() {
  bindkey -M vicmd 'Y' vi-yank-eol
  bindkey -M vicmd 'H' vi-first-non-blank
  bindkey -M vicmd 'L' vi-end-of-line
}

if command -v sheldon &> /dev/null; then
  eval "$(sheldon source)"
else
  MISSING_TOOLS[sheldon]="https://sheldon.cli.rs"
fi

command -v claude &> /dev/null || MISSING_TOOLS[claude]="https://docs.anthropic.com/en/docs/claude-code"

if (( ${#MISSING_TOOLS[@]} > 0 )); then
  echo "Missing tools:"
  for tool url in ${(kv)MISSING_TOOLS}; do
    echo "  $tool: $url"
  done
fi

HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=10000
setopt appendhistory
export PATH="$HOME/.local/bin:$PATH"
export PATH="${ASDF_DATA_DIR:-$HOME/.asdf}/shims:$PATH"
